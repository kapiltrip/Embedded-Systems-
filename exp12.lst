


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             EXP9, CODE, READONLY
    2 00000000                 EXPORT           _start
    3 00000000                 ENTRY
    4 00000000         
    5 00000000         _start
    6 00000000         ; Load external addresses from pointer labels (fixed RAM
                        map)
    7 00000000 E51F0008        LDR              r0, N_PTR   ; r0 = 0x00003100 (
                                                            N address)
    8 00000004 E51F1008        LDR              r1, TBL_PTR ; r1 = 0x00003104 (
                                                            FACT_TABLE base)
    9 00000008 E51F2008        LDR              r2, RES_PTR ; r2 = 0x0000311C (
                                                            RESULT address)
   10 0000000C         
   11 0000000C         ; Read N from memory
   12 0000000C E5900000        LDR              r0, [r0]    ; r0 = N
   13 00000010         
   14 00000010         ; Compute &FACT_TABLE[N] (each entry is 4 bytes)
   15 00000010 E0811100        ADD              r1, r1, r0, LSL #2 
                                                            ; r1 = base + N*4
   16 00000014         
   17 00000014         ; Load FACT_TABLE[N] and store to RESULT
   18 00000014 E5913000        LDR              r3, [r1]    ; r3 = FACT_TABLE[N
                                                            ]
   19 00000018 E5823000        STR              r3, [r2]    ; RESULT = r3
   20 0000001C         
   21 0000001C         stop
   22 0000001C EAFFFFFE        B                stop
   23 00000020         
   24 00000020                 ALIGN
   25 00000020         
   26 00000020                 AREA             EXP9_DATA, DATA, READONLY
   27 00000000         ; Pointer-style fixed addresses (fill these locations in
                        Memory window)
   28 00000000 00003100 
                       N_PTR   DCD              0x00003100  ; N (input)
   29 00000004 00003104 
                       TBL_PTR DCD              0x00003104  ; FACT_TABLE base (
                                                            0! at +0, 1! at +4,
                                                             ...)
   30 00000008 0000311C 
                       RES_PTR DCD              0x0000311C  ; RESULT (output)
   31 0000000C         
   32 0000000C         ; Fixed RAM map to populate before run:
   33 0000000C         ;   0x00003100: N (input)
   34 0000000C         ;   0x00003104: FACT_TABLE[0] = 1   ; 0!
   35 0000000C         ;   0x00003108: FACT_TABLE[1] = 1   ; 1!
   36 0000000C         ;   0x0000310C: FACT_TABLE[2] = 2   ; 2!
   37 0000000C         ;   0x00003110: FACT_TABLE[3] = 6   ; 3!
   38 0000000C         ;   0x00003114: FACT_TABLE[4] = 24  ; 4!
   39 0000000C         ;   0x00003118: FACT_TABLE[5] = 120 ; 5!
   40 0000000C         ;   0x0000311C: RESULT (output)
   41 0000000C         
   42 0000000C                 END
Command Line: --debug --xref --bi --apcs=interwork --depend=exp12.d -oexp12.o -
IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include --predefine="__EVAL SETA 1" -
-list=exp12.lst exp12.asm



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

EXP9 00000000

Symbol: EXP9
   Definitions
      At line 1 in file exp12.asm
   Uses
      None
Comment: EXP9 unused
_start 00000000

Symbol: _start
   Definitions
      At line 5 in file exp12.asm
   Uses
      At line 2 in file exp12.asm
Comment: _start used once
stop 0000001C

Symbol: stop
   Definitions
      At line 21 in file exp12.asm
   Uses
      At line 22 in file exp12.asm
Comment: stop used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

EXP9_DATA 00000000

Symbol: EXP9_DATA
   Definitions
      At line 26 in file exp12.asm
   Uses
      None
Comment: EXP9_DATA unused
N_PTR 00000000

Symbol: N_PTR
   Definitions
      At line 28 in file exp12.asm
   Uses
      At line 7 in file exp12.asm
Comment: N_PTR used once
RES_PTR 00000008

Symbol: RES_PTR
   Definitions
      At line 30 in file exp12.asm
   Uses
      At line 9 in file exp12.asm
Comment: RES_PTR used once
TBL_PTR 00000004

Symbol: TBL_PTR
   Definitions
      At line 29 in file exp12.asm
   Uses
      At line 8 in file exp12.asm
Comment: TBL_PTR used once
4 symbols
338 symbols in table
